<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#8a2be2">
<link rel="manifest" href="manifest.json">
<link rel="icon" type="image/x-icon" href="favicon.png">
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<title>Nishant Adhikari</title>
</head>
<body>
<div class="background-gradient"></div>

<header>
    <div class="logo"> <img id="myLogo" src="media/icon-512x512.png" alt="Nishant Adhikari"> </div>
    <div class="menu-toggle" id="menuToggle" aria-label="Menu">‚ò∞</div>
    <nav id="navMenu">
        <a id="themeToggle" aria-label="Toggle Theme">üåì Theme</a>
        <a id="ourTeamBtn">Our Team</a>
        <a id="aboutBtn">About</a>
        <a id="contactBtn">Contact</a>
    </nav>
</header>

<div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search projects..." aria-label="Search Projects">
</div>

<main>
    <section class="projects-grid" id="projectsGrid"></section>
</main>

<footer>
    <p>&copy; 2025 Nishant Adhikari</p>
</footer>

<!-- Modals (HTML structure is unchanged) -->
<div class="modal" id="teamModal"><div class="modal-content"><span class="close-btn">&times;</span><div id="teamContent"></div></div></div>
<div class="modal" id="projectModal"><div class="modal-content"><span class="close-btn">&times;</span><div id="projectDetailContent"></div></div></div>
<div class="modal" id="aboutModal"><div class="modal-content"><span class="close-btn">&times;</span><div id="aboutContent">
<h2>About This Site</h2>
<div id="Markdown">
---
## Nishant Adhikari 
---
Welcome to my personal portfolio website showcasing a collection of web development projects. This is both my learning journey and a demonstration of my skills in HTML, CSS, JavaScript, and modern web technologies.

## üë§ About Me

**Nishant Adhikari** - Student, Web Developer, Science Enthusiast  
üìç Based in Kathmandu, Nepal

I'm passionate about creating clean, functional, and user-friendly web experiences. This portfolio represents my journey in web development, from basic HTML pages to complex interactive applications. Some of the project are [Vibe coding](https://en.m.wikipedia.org/wiki/Vibe_coding).


>I don't have full coding expertises on those projects with a keyword "vibecode".

## üìã About

This portfolio website features:

- **Interactive Project Gallery** - Browse through my web development projects with search functionality
- **Progressive Web App (PWA)** - Installable, offline-capable, and mobile-friendly
- **Responsive Design** - Works seamlessly across all devices and screen sizes  
- **Dark/Light Theme** - Toggle between themes with persistent user preference
- **Dynamic Content** - Projects and team information loaded from JSON data
- **Service Worker Caching** - Optimized performance with smart caching strategies

## üéØ Highlighted Projects

### **KeepMovizEZ** 
*personal movie log, tracker and analytics*
- Comprehensive movie tracking application
- Custom watchlists and viewing history
- Movie discovery and analytics
- **Tech**: JavaScript, IndexedDB, TMDB API, Supabase

### **Momoholics**

## üé® Features

- **üîç Search Functionality** - Find projects by name or technology
- **üì± Mobile Responsive** - Optimized for all screen sizes
- **üåô Theme Toggle** - Dark and light mode support
- **‚ö° Fast Loading** - Service worker caching for optimal performance
- **üì¥ Offline Support** - Browse projects even without internet
- **üéØ SEO Optimized** - Proper meta tags and semantic HTML

---
## üîó Connect With Me
Checkout  **Our Team** modal;
---

### ‚≠ê Star this project in [github](https://GitHub.com/Nishant7Adhikari/web_dev_learning) if you found it helpful!  
### ü§ù Feel free to reach out for collaborations or questions!
</div>
<script> document.getElementById('Markdown').innerHTML = marked.parse(document.getElementById('Markdown').innerText);
</script>

</div></div></div>
<div class="modal" id="contactModal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <div id="contactContent">
            <h2>Get in Touch</h2>
            <p>Connect with me on social media or send an email directly.</p>
            <div class="contact-socials" id="contactSocials"></div>
            <hr>
            <form id="emailForm">
                <input type="text" id="emailName" placeholder="Your Name" required>
                <input type="email" id="emailUser" placeholder="Your Email (for context)" required>
                <textarea id="emailMessage" placeholder="Your Message" rows="4" required></textarea>
                <button type="submit" class="detail-button">Send via Email</button>
            </form>
        </div>
    </div>
</div>

<script>
// --- JAVASCRIPT IS UNCHANGED FROM THE PREVIOUS VERSION ---
document.addEventListener('DOMContentLoaded', () => {
    const projectsGrid = document.getElementById('projectsGrid');
    const searchInput = document.getElementById('searchInput');
    let projectsData = [];
    let teamData = [];

    // --- MODAL & NAVIGATION ELEMENTS ---
    const modals = {
        team: document.getElementById('teamModal'),
        project: document.getElementById('projectModal'),
        about: document.getElementById('aboutModal'),
        contact: document.getElementById('contactModal')
    };
    const contentAreas = {
        team: document.getElementById('teamContent'),
        project: document.getElementById('projectDetailContent'),
        contactSocials: document.getElementById('contactSocials')
    };
    document.getElementById('themeToggle').addEventListener('click', () => {
        const current = document.documentElement.getAttribute('data-theme');
        applyTheme(current === 'dark' ? 'light' : 'dark');
    });
    document.getElementById('ourTeamBtn').addEventListener('click', () => showTeamModal());
    document.getElementById('aboutBtn').addEventListener('click', () => modals.about.style.display = 'flex');
    document.getElementById('contactBtn').addEventListener('click', () => openContactModal());
    document.getElementById('menuToggle').addEventListener('click', (e) => {
        e.stopPropagation();
        document.getElementById('navMenu').classList.toggle('show');
    });
    
    // --- THEME ---
    const applyTheme = (theme) => {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
    };
    applyTheme(localStorage.getItem('theme') || 'dark');

    // --- DATA FETCHING ---
    Promise.all([
        fetch('data/projects.json').then(res => res.json()),
        fetch('data/teams.json').then(res => res.json())
    ]).then(([projects, teams]) => {
        projectsData = projects;
        teamData = teams;
        loadProjects();
    }).catch(error => console.error("Failed to load data:", error));

    // --- PROJECT LOADING & SORTING ---
    function calculateScore(project) {
        let score = 0;
        const statusPoints = { 'completed': 3, 'continue': 2, 'planned': 1 };
        score += statusPoints[project.status.toLowerCase()] || 0;
        if (project.keywords.map(k => k.toLowerCase()).includes('javascript')) score += 2;
        if (project.image && !project.image.includes('default')) score += 1;
        return score;
    }

    function loadProjects(filter = "") {
        const lowerCaseFilter = filter.toLowerCase();
        let filtered = projectsData.filter(p =>
            p.name.toLowerCase().includes(lowerCaseFilter) ||
            p.keywords.some(k => k.toLowerCase().includes(lowerCaseFilter))
        );
        
        filtered.sort((a, b) => calculateScore(b) - calculateScore(a));

        if (!filtered.length) {
            projectsGrid.innerHTML = `<p>No projects found.</p>`;
            return;
        }

        const projectsHTML = filtered.map(p => {
            const statusClass = `status-${p.status.toLowerCase()}`;
            return `
            <div class="card" data-slug="${p.slug}">
                <img src="${p.image || 'media/icons/default.png'}" alt="${p.name}" loading="lazy">
                <div class="card-body">
                    <div>
                        <h3>${p.name}</h3>
                        <span class="status-badge ${statusClass}">${p.status}</span>
                        <p>${p.tagline}</p>
                    </div>
                    <a href="${p.link}" target="_blank" rel="noopener noreferrer" class="card-button">Open</a>
                </div>
            </div>`;
        }).join('');
        projectsGrid.innerHTML = projectsHTML;
    }
    searchInput.addEventListener('input', e => loadProjects(e.target.value));

    // --- TEAM MODAL & SINGLE MEMBER VIEW ---
    function getMemberCardHTML(member) {
        const socialLinksHTML = Object.entries(member.socialLinks)
            .map(([platform, url]) => (url && url !== '#') ? `
                <a href="${url}" target="_blank" rel="noopener noreferrer" title="${platform}">
                    <img src="media/social/${platform.toLowerCase()}.svg" alt="${platform} icon">
                </a>` : '').join('');

        const interestHTML = member.interest && member.interest.length > 0
            ? `<div class="interest-tags">${member.interest.map(skill => `<span class="tag">${skill}</span>`).join('')}</div>` : '';

        return `
            <div class="team-card">
                <div class="team-card-header">
                    <img src="${member.avatar}" alt="${member.name}">
                    <div class="team-card-identity">
                        <h3>${member.name}</h3>
                        <p>${member.title || member.role}</p>
                    </div>
                </div>
                <p class="team-card-bio">${member.bio}</p>
                ${interestHTML}
                <div class="social-links">${socialLinksHTML}</div>
            </div>`;
    }

    function showTeamModal(memberId = null) {
        let modalContentHTML;
        if (memberId) {
            const member = teamData.find(m => m.id === memberId);
            if (member) modalContentHTML = getMemberCardHTML(member);
        } else {
            const allMembersHTML = teamData.map(getMemberCardHTML).join('');
            modalContentHTML = `<h2>Our Team</h2>${allMembersHTML}`;
        }
        contentAreas.team.innerHTML = modalContentHTML;
        modals.team.style.display = 'flex';
    }

    // --- PROJECT DETAIL MODAL ---
    projectsGrid.addEventListener('click', e => {
        if (e.target.classList.contains('card-button')) return;
        const card = e.target.closest('.card');
        if (!card) return;
        const project = projectsData.find(p => p.slug === card.dataset.slug);
        if (!project) return;
        
        const teamMembersHTML = project.team_ids.map(id => {
            const member = teamData.find(m => m.id === id);
            return member ? `<span class="team-member-link" data-id="${id}">${member.name}</span>` : '';
        }).join(', ');

        contentAreas.project.innerHTML = `
            <img id="projectDetailImage" src="${project.image || 'media/icons/default.png'}" alt="Thumbnail">
            <h2>${project.name}</h2>
            <p><em>${project.tagline}</em></p>
            <hr>
            <p>${project.description}</p>
            <div class="project-meta">
                <p><strong>Status:</strong> ${project.status}</p>
                <p><strong>Team:</strong> ${teamMembersHTML}</p>
                <p><strong>Keywords:</strong> ${project.keywords.join(', ')}</p>
            </div>
            <a href="${project.link}" target="_blank" rel="noopener noreferrer" class="detail-button">Open</a>`;
        modals.project.style.display = 'flex';
    });

    // --- EVENT DELEGATION FOR TEAM MEMBER LINKS ---
    modals.project.addEventListener('click', e => {
        if (e.target.classList.contains('team-member-link')) {
            const memberId = e.target.dataset.id;
            modals.project.style.display = 'none'; // Hide project modal
            showTeamModal(memberId); // Show team modal with single member
        }
    });

    // --- CONTACT MODAL ---
    function openContactModal() {
        const founder = teamData.find(m => m.role.toLowerCase() === 'founder');
        if (founder) {
            contentAreas.contactSocials.innerHTML = Object.entries(founder.socialLinks).map(([k,v]) =>
                v && v !== '#'?`<a href="${v}" target="_blank" title="${k}"><img src="media/social/${k}.svg" alt="${k}"></a>`:''
            ).join('');
        }
        modals.contact.style.display = 'flex';
    }
    
    document.getElementById('emailForm').addEventListener('submit', e => {
        e.preventDefault();
        const name = document.getElementById('emailName').value;
        const userEmail = document.getElementById('emailUser').value;
        const message = document.getElementById('emailMessage').value;
        const mailtoLink = `mailto:nshntdhkr@gmail.com?subject=${encodeURIComponent(`Contact from nishantadhikari.info.np - ${name}`)}&body=${encodeURIComponent(`Name: ${name}\nFrom: ${userEmail}\n\nMessage:\n${message}`)}`;
        window.location.href = mailtoLink;
        modals.contact.style.display = 'none';
        e.target.reset();
    });

    // --- GLOBAL MODAL CLOSING LOGIC ---
    function closeModal(modal) { modal.style.display = 'none'; }
    Object.values(modals).forEach(modal => {
        modal.addEventListener('click', (e) => {
            if (e.target === modal || e.target.classList.contains('close-btn')) {
                closeModal(modal);
            }
        });
    });
    window.addEventListener('click', e => {
        const navMenu = document.getElementById('navMenu');
        if (navMenu.classList.contains('show') && !navMenu.contains(e.target) && e.target !== document.getElementById('menuToggle')) {
            navMenu.classList.remove('show');
        }
    });
});

// --- PWA SERVICE WORKER REGISTRATION ---
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
        .then(reg => console.log('ServiceWorker registered'))
        .catch(err => console.log('ServiceWorker registration failed:', err));
    });
}
</script>

</body>
</html>
